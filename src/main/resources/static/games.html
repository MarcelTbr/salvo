<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Salvo Games</title>
    <link rel="stylesheet" type="text/css" href="games.css">
    <!--JQuery & Angular 1.5.7 CDNS -->
    <script
            src="https://code.jquery.com/jquery-3.1.1.js"
            integrity="sha256-16cdPddA6VdVInumRGo6IbivbERE8p7CQR3HzTBuELA="
            crossorigin="anonymous">
    </script>
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.5.7/angular.min.js"></script>

</head>
<body ng-app="App" ng-controller="GamesController" >
<section   id="security">
<div ng-show="guest" id="guest-info" class="space-around">
<h4>Player Login</h4>
<form  id="login-form" onsubmit="return false">
    <label>Name: <input ng-model="username" type="text" name="username"></label>
    <label>Password: <input ng-model="password" type="text" name="password"></label>
    <button ng-click="logMeIn()" id="login-button">Log In</button>
</form>
</div>
<div  ng-show="user" id="user-info" class="space-around">
    <h4>Welcome {{player.username}}</h4>
    <h4>{{player.email}}</h4>
<form id="logout-form" onsubmit="return false">
    <button ng-click="logMeOut()" id="logout-button">Log out</button>
</form>
    </div>
</section>
<h2 class="center">Leaderboard</h2>

<table id="scores" >
    <thead>
    <tr ><th>User</th><th>Total Points</th><th>Won</th><th>Lost</th><th>Tied</th></tr>
    </thead>
    <tbody>
    <tr ng-repeat="(key, score) in scores_obj"><td>{{key}}</td><td>{{score[0]}}</td><td>{{score[1]}}<td>{{score[2]}}</td><td>{{score[3]}}</td></td></tr>

    </tbody>

</table>

<section id="games-list" class="center">
<div ng-show="user" id="user-games">
    <h2>Games played by {{player.username}}</h2>
    <div >
        <ul id="player_games_list">
            <li ng-repeat="game in player_games"><u>
                <b>Game {{game.game_id}}</b></u><br />
                <b>Creation Date:</b></b> {{game.game_date}}<br />
                <span ng-repeat="player in game.game_players">
                    <b> {{player.username}} </b>
                     {{player.joining_date }} <br />
                </span>
                <br /><br />
            </li>
        </ul>

    </div>
</div>

<div id="all-games">
<h2>Active Salvo Games</h2>
<ul id="games_list">
    <li ng-repeat="game in games"><u>
        <b>Game {{game.game_id}}</b></u><br />
        <b>Creation Date:</b></b> {{game.game_date}}<br />
        <span ng-repeat="player in game.game_players">
            <b>Player {{player.id}}:</b> {{player.username}}
            <b>Joined:</b> {{player.joining_date }} <br />
        </span>
        <br /><br />
    </li>
</ul>
</div>
</section>
<script type="text/javascript" src="angular_app.js"></script>
</body>
</html>